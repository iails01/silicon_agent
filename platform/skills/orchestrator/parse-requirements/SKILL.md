---
name: parse-requirements
display_name: "需求解析"
description: 将用户的自然语言需求解析为结构化的任务描述，拆分子任务并确定优先级
layer: L1
metadata:
  emoji: "📋"
  tags: ["orchestrator", "requirements", "planning"]
  applicable_roles: ["orchestrator"]
---

# 需求解析与结构化

将用户的自然语言需求解析为结构化的任务描述，识别关键功能点、约束条件，并拆分为可执行的子任务。

## 输入

用户会提供：
- `requirement`：自然语言描述的需求

## 工作流

### Step 1：需求理解

仔细阅读需求描述，提取：
- 核心功能点（Must-have）
- 附加功能点（Nice-to-have）
- 非功能性需求（性能、安全、兼容性等）
- 约束条件和前置依赖

### Step 2：任务拆分

将需求拆分为可独立执行的子任务，每个子任务应包含：
- 清晰的目标描述
- 输入/输出定义
- 验收标准

### Step 3：依赖分析

识别子任务之间的依赖关系，确定执行顺序。

### Step 4：阶段映射

将子任务映射到流水线阶段（spec → coding → test → review → smoke → doc）。

## 输出格式

```markdown
## 需求解析报告

### 需求摘要
{一句话概括需求}

### 功能点
1. **[核心]** {功能描述} — 验收标准：{criteria}
2. **[核心]** {功能描述} — 验收标准：{criteria}
3. **[附加]** {功能描述} — 验收标准：{criteria}

### 非功能性需求
- 性能：{要求}
- 安全：{要求}

### 子任务清单

| # | 阶段 | 任务 | 依赖 | 优先级 |
|---|------|------|------|--------|
| 1 | spec | {描述} | 无 | P0 |
| 2 | coding | {描述} | #1 | P0 |
| 3 | test | {描述} | #2 | P0 |

### 风险提示
- {潜在风险和应对策略}
```
