---
name: smoke-test
description: 设计冒烟测试方案，验证核心功能路径是否可用
metadata:
  emoji: "💨"
  tags: ["smoke", "testing", "verification"]
---

# 冒烟测试方案设计

设计冒烟测试方案，快速验证系统核心功能路径是否可用，确保没有阻塞性问题。

## 输入

用户会提供：
- `feature`：要验证的功能或模块
- `api_spec`（可选）：API 接口规范
- `environment`（可选）：测试环境信息

## 工作流

### Step 1：识别核心路径

使用 `search-codebase` skill 和 `read` 工具分析代码，识别：
- 核心业务流程（用户最常使用的路径）
- 关键入口点（API 端点、页面路由等）
- 关键依赖（数据库连接、外部服务等）

### Step 2：设计测试用例

为每条核心路径设计最小验证用例：
- 每个用例只验证一条路径
- 使用最简单的输入
- 只检查关键输出（不做全面验证）
- 关注"能否跑通"而非"结果是否完全正确"

### Step 3：确定验证方式

选择验证方式：
- API 调用：使用 curl/httpx 发起请求
- 命令行：运行脚本或命令
- 数据库检查：查询关键数据
- 日志检查：验证关键日志输出

### Step 4：编排执行顺序

按依赖关系编排测试顺序：
1. 环境检查（数据库连接、服务可用性）
2. 基础功能（CRUD 操作）
3. 核心业务流程
4. 边界场景（可选）

## 输出格式

```markdown
## 冒烟测试方案

### 测试目标
{功能/模块名称}

### 前置条件
- {环境要求}
- {数据准备}

### 测试用例

#### TC-01：{测试名称}
- **路径**：{核心路径描述}
- **步骤**：
  1. {操作步骤}
  2. {操作步骤}
- **预期结果**：{期望的关键输出}
- **验证命令**：
  ```bash
  {可执行的验证命令}
  ```

### 执行顺序
TC-01 → TC-02 → TC-03

### 通过标准
- 所有 TC 通过：✅ 冒烟通过
- 任一 TC 失败：❌ 需要排查，列出失败项
```
